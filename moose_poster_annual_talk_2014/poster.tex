\documentclass[a0paper,12pt]{article}
\usepackage[landscape,top=5cm,bottom=3cm,right=5cm,left=5cm]{geometry}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{tikz}
\usepackage{enumitem}
\usetikzlibrary{shapes,arrows}
\usetikzlibrary{decorations.text}
\usetikzlibrary{spy,calc}
\usetikzlibrary{shapes.arrows}

\usepackage{color}
\usepackage{moresize}
\usepackage{lipsum} % dummy text
\usepackage{multicol}

\pgfdeclarelayer{background}
\pgfdeclarelayer{layer1}
\pgfdeclarelayer{layer2}
\pgfdeclarelayer{layer3}
\pgfdeclarelayer{foreground}

\newenvironment{Figure}
  {\par\medskip\noindent\minipage{\linewidth}}
  {\endminipage\par\medskip}

% This macro creates header.
\newcommand{\HEADING}[1]
{
    \includegraphics[scale=0.35]{./images/heading.png}
    \fontsize{2.5cm}{1cm}\selectfont \textcolor{red}{#1}
    \vspace{0.5cm}
}

\newcommand{\SECTION}[1]
{
    {\fontsize{2cm}{1.5cm}\selectfont \textsc{\textcolor{blue}{#1}}\par}
}

\newcommand{\CAPTION}[1]
{
    {\fontsize{1cm}{1cm}\fontfamily{\sfdefault}\selectfont {\textcolor{black}{#1}}\par}
}

\newcommand{\TEXT}[1]
{
   { \fontsize{1.5cm}{1.5cm}\fontfamily{\sfdefault}\selectfont {#1}\par }
}

\newcommand{\ITEM}[1]
{
    {\fontsize{1.2cm}{1.2cm}\fontfamily{\sfdefault}\selectfont {#1}\par }
}

\newcommand{\MOOSE}[0]{\TEXT{\texttt{\textcolor{red}{MOOSE}}}}

\newcommand{\MOOSELOGO}[0]{
    \tikz \node[inner sep=1mm] {\includegraphics[scale=0.6]{./images/moose_logo_tiny.png}}; }

\tikzset{
  every overlay node/.style={
    draw=black,fill=white,rounded corners,anchor=north west,
  },
}
% Usage:
% \tikzoverlay at (-1cm,-5cm) {content};
% or
% \tikzoverlay[text width=5cm] at (-1cm,-5cm) {content};
\def\tikzoverlay{%
   \tikz[baseline,overlay]\node[draw=white,every overlay node]
}%

\begin{document}

%\begin{tikzpicture}[remember picture,overlay] 
%    \node[opacity=1.0] (background) at (current page.center) {
%        \includegraphics[width=\paperwidth,height=\paperheight]{./background/background.jpg}
%    };
%\end{tikzpicture}


\begin{minipage}{\textwidth}
    \centering
    \fontsize{4cm}{1em}\selectfont \textcolor{red}{Modelling Memory Across Scale}
    \\
    \fontsize{1.5cm}{1em}\selectfont Aditya Gilra, Aviral Goel, Dilawar Singh,
    Harsha Rani, Sahil Moza, Subhasis Ray, Upinder Bhalla
\end{minipage}



%% Three columns
\vspace{5cm}
\setlength{\columnsep}{6cm}
\begin{multicols}{3}
    
%%%%%%%%%%%% Column 1
\begin{Figure}

    \HEADING{Introduction}

    \begin{Figure}

        \begin{itemize}
            \item \TEXT{Memory and plasticity involve brain mechanisms from molecular scale
                    to enormous networks.}

            \item \TEXT{We have developed \textcolor{red}{\textsc{MOOSE}}
                    \MOOSELOGO the Multiscale Object Oriented Simulation
                    Environment, to model plasticity across scales.}

        \end{itemize}

     \begin{tikzpicture}[
        spy using outlines={circle
            , magnification=10, connect spies
        }
        , compartment/.style={cylinder
             , draw
             , cylinder uses custom fill
             , cylinder end fill = red!35
             , cylinder body fill = red!40
             , minimum height = 2cm
             , minimum width = 3cm 
         }
         , spine/.style={cylinder 
             , fill = blue!20
             , inner sep=1mm
             , minimum height=5mm
             , minimum width=10mm
         }
         , branch/.style={cylinder
             , draw
             , cylinder uses custom fill
             , cylinder end fill = red!35
             , cylinder body fill = red!40
             , minimum height = 5cm
             , minimum width = 1cm
         }
         ]
         \centering
         \node [] (image) at (0,-1) {
             \includegraphics[scale=0.2,angle=-30]{./images/ca1_neuron.png}
         };

         \foreach \i in {-3,...,3}
         \foreach \j in {-3,...,3}
         {
             \node[fill=blue!40,opacity=0.3,thin,inner sep=0pt, minimum size=3mm,circle] (n\i\j) at (\i, \j) {};
         };

         \spy[blue, size=3cm] on (1.65, -1.5) in node[left] at (7,0);
         \node[below=4cm,text width=0.3\textwidth] {\CAPTION{Embed in network}};

         %% Cool. Now create a 3d compartment model here.
         \begin{scope}[xshift=10cm]
             \node[compartment] (c1) {};
             \node[compartment] (c2) at (c1.east) {};
             \node[compartment] (c3) at (c2.east) {};

             \node[branch,rotate=45] (b1) at ([xshift=10mm,yshift=0mm]c3.before top) {};
             \node[branch,rotate=-45] (b2) at ([xshift=5mm, yshift=-15mm]c3.base east) {};

            % Spines
            \node[spine, inner sep=1mm, rotate=135] (s11) at (b1.north east) {};
            \node[spine, inner sep=1mm, rotate=135] (s12) at ([xshift=3mm]b1.south east) {};

            \node[spine, inner sep=1mm, rotate=45] (s21) at (b2.north east) {};
            \node[spine, inner sep=1mm, rotate=45] (s22) at ([xshift=-3mm]b2.south east) {};
             
         \end{scope}

         %% Scope to draw chemisty 
         \begin{scope}

             \node[] (chemical) at ([yshift=-4.5cm]c2.south) {
                 \includegraphics[scale=0.2]{./images/chemical_reactions.png}
             };

             %%  
             \draw[o-o] (c1.center) to [bend right] (chemical) node [right]
                 {\LARGE{Chemical models}};
            
             %% Add transportation model.
             \node[] (transport) at ([xshift=6cm,yshift=-1cm]s12.north) {
                 \includegraphics[scale=0.9]{./images/transport_mechanism.png}
             };

             \draw[o-o] (s12.center) to [] (transport) ++(0,1.2cm) node [above] 
                {\LARGE{Trafficking models}};

         \end{scope}


     \end{tikzpicture} 
    \end{Figure}


    \HEADING{Multiscale Modeling in \MOOSELOGO}

    \begin{Figure}

        \edef\figwidth{0.45\textwidth}
        \begin{tikzpicture}
            \node[fill=red!5] (text) {
                \begin{minipage}{0.35\textwidth}
                    {\TEXT{\textcolor{red}{Why multiscale?}}}
                    \begin{itemize}[itemsep=1cm,label={.}]
                        \item \ITEM{$10^{11}$ cells}
                        \item \ITEM{$10^{15}$ synapses }
                        \item \ITEM{$10000$? reactions per synapse}
                        \item \ITEM{Electrical events: $< 1$ ms }
                        \item \ITEM{Chemical events: $1\; \text{sec} \rightarrow
                            1000\; \text{sec}$ }
                    \item \ITEM{Structural events: $100\; \text{sec} \rightarrow
                        \text{months}$}
                \item \ITEM{Lifetime of a protein: days}
                \item \ITEM{Lifetime of a neuron: 100 years }
                \item \ITEM{Lifetime of a memory: 100 years}
            \end{itemize}
        \end{minipage}
    };
    \end{tikzpicture} %
    \begin{tikzpicture}
        \node [] (moose_cell) {
            \includegraphics[width=\figwidth]{./images/moose_interface_single_cell.png}
        };
        \node [text width=\figwidth] (captionA) at (moose_cell.south) {\CAPTION{Single Neuron Model}};

        \node[] (olfaction) at ($(captionA)+(0,-6cm)$) {
            \includegraphics[width=\figwidth]{./images/fullmodel_moogli.png}
        };
        \node [text width=\figwidth] (captionB) at (olfaction.south)
        {\CAPTION{Olfactory bulb network}};

        \node[] (signalling) at ($(captionB)+(0,-5cm)$) {
            \includegraphics[width=\figwidth]{./images/poster_runView.png}
        };
        \node [text width=\figwidth] (captionC) at (signalling.south) {\CAPTION{Signalling Model}};
    \end{tikzpicture}
    \end{Figure}


\end{Figure}

%% Column 2

\begin{Figure}

    %% Solvers here
    \SECTION{Modular Solvers in \MOOSELOGO}

    %% Modular solvers available in MOOSE
    \edef\figwidth{0.2\textwidth}
    \begin{tikzpicture}
        \node[] (image) {
            \includegraphics[width=\figwidth]{./images/stochastic_solver.png}
        }; 
        \node[text width=1.5*\figwidth] at (image.south) {\CAPTION{Chemical
                reaction at single molecule level}};
    \end{tikzpicture} \hfill
    \begin{tikzpicture}
        \node[] (image) {
            \includegraphics[width=\figwidth]{./images/ksolve_dsolve.png}
        };
        \node[text width=1.5*\figwidth] at (image.south) {\CAPTION{Reaction
                Diffusion Solver}};
    \end{tikzpicture} \hfill
    \begin{tikzpicture}
        \node[] (image) {
            \includegraphics[width=\figwidth]{./images/hsolve.png}
        };
        \node[text width=\figwidth] at (image.south) {\CAPTION{Electrical:
                Hines Solve}};
    \end{tikzpicture}

\end{Figure}

\HEADING{Some projects using \MOOSELOGO}

\begin{Figure}
    \edef\figwidth{0.9\textwidth}
    \begin{tikzpicture}
        \node[fill=red!3] (aditya) {
            \includegraphics[width=\figwidth]{./images/fullmodel_moogli.png}
        };

        \node[minimum height=0cm,text width=\figwidth] (aditya_caption) at
        ([yshift=1cm]aditya.north) {
            \CAPTION{ Network coding and computation in olfaction and sematosensory
                cortex. It explains linear coding and phase-decorrelation and
                predicts connectivity, lateral dendrite output structure.
            }
        };
        \node [] (result) at ([yshift=-2cm]aditya.south) {
            \includegraphics[width=\figwidth,trim=0cm 0cm 0cm 3.4cm, clip]{./images/aditya_work.png}
        };
    \end{tikzpicture}%
    %% One more model here.

    \begin{tikzpicture}

        \node[] (robust) {
            \includegraphics[width=\figwidth]{./images/poster_runView.png}
        };

        \node[text width=\figwidth] at (robust.north) {
            \CAPTION{Robustness of chemical switches with respect to stochasticity and parameters.}
        };

    \end{tikzpicture}
\end{Figure}

%% Column 3
\begin{Figure}
    
    \HEADING{Summary}

    \HUGE We use models to
    \begin{itemize}
            
        \item Integrate many scales of neuronal data with basic
            physical/chemical principles.
        \item Explain phenomenon of plasticity, activity and neuronal coding.
        \item Predict circuit mechanisms, plasticity rules, and emergent
            phenomena such as \emph{decorrelation}, \emph{robustness}, and
            \emph{memory decay}.

    \end{itemize}

    \textbf{We have developed MOOSE to carry out these simulations}.

\end{Figure}

\end{multicols}

\end{document}
